(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{180:function(e,t,n){e.exports=n.p+"static/media/loading.c5590569.svg"},184:function(e,t,n){e.exports=n(359)},275:function(e,t,n){},352:function(e,t,n){},353:function(e,t,n){},359:function(e,t,n){"use strict";n.r(t);var i=n(13),a=n.n(i),o=(n(275),n(276),n(1)),r=n.n(o),s=n(363),c=n(362),l=n(361),u=n(27),h=n(28),d=n(40),p=n(37),m=n(41),f=n(23),g=(n(352),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(h.a)(t,[{key:"goTo",value:function(e){this.props.history.replace("/".concat(e))}},{key:"login",value:function(){this.props.auth.login()}},{key:"logout",value:function(){this.props.auth.logout()}},{key:"componentDidMount",value:function(){var e=this.props.auth.renewSession;"true"===localStorage.getItem("isLoggedIn")?e():this.props.auth.login()}},{key:"render",value:function(){var e=this.props.auth.isAuthenticated;return r.a.createElement("div",null,r.a.createElement(f.d,{fluid:!0},r.a.createElement(f.d.Header,null,r.a.createElement(f.d.Brand,null,r.a.createElement("a",{href:"#"},r.a.createElement("img",{src:"https://static.wixstatic.com/media/7cd0e6_691910d651614db09e45e478f65fa36c~mv2.png/v1/fill/w_88,h_55,al_c,q_80,usm_0.66_1.00_0.01/Asset%204_2x.webp"}))),!e()&&r.a.createElement(f.a,{id:"qsLoginBtn",bsStyle:"primary",className:"btn-margin",onClick:this.login.bind(this)},"Log In"),e()&&r.a.createElement(f.a,{bsStyle:"primary",className:"btn-margin",onClick:this.goTo.bind(this,"profile")},"Profile"),e()&&r.a.createElement(f.a,{id:"qsLogoutBtn",bsStyle:"primary",className:"btn-margin",onClick:this.logout.bind(this)},"Log Out"))),r.a.createElement("div",{className:"container"},this.props.children))}}]),t}(o.Component)),b=n(360),k=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(h.a)(t,[{key:"login",value:function(){this.props.auth.login()}},{key:"render",value:function(){var e=this.props.auth.isAuthenticated;return r.a.createElement("div",{className:"container"},e()&&r.a.createElement("h4",null,"You are logged in! You can now view your"," ",r.a.createElement(b.a,{to:"profile"},"profile area"),"."),!e()&&r.a.createElement("h4",null,"You are not logged in! Please"," ",r.a.createElement("a",{style:{cursor:"pointer"},onClick:this.login.bind(this)},"Log In")," ","to continue."))}}]),t}(o.Component),v=(n(353),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(h.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({profile:{}});var t=this.props.auth,n=t.userProfile,i=t.getProfile;n?this.setState({profile:n}):i(function(t,n){e.setState({profile:n})})}},{key:"render",value:function(){var e=this.state.profile;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"profile-area"},r.a.createElement("h1",null,e.name),r.a.createElement(f.e,{header:"Profile"},r.a.createElement("img",{src:e.picture,alt:"profile"}),r.a.createElement("div",null,r.a.createElement(f.b,null,r.a.createElement(f.c,{glyph:"user"})," Nickname"),r.a.createElement("h3",null,e.nickname)),r.a.createElement("pre",null,JSON.stringify(e,null,2)))))}}]),t}(o.Component)),y=n(180),E=n.n(y),O=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{position:"absolute",display:"flex",justifyContent:"center",height:"100vh",width:"100vw",top:0,bottom:0,left:0,right:0,backgroundColor:"white"}},r.a.createElement("img",{src:E.a,alt:"loading"}))}}]),t}(o.Component),j=n(181),w={domain:"frenzy.auth0.com",clientId:"igGe9wXd8SohfZpIMenvVFDEaxOf9Sl7",callbackUrl:"https://noelbranz.github.io/callback"},T=n(182),S=n.n(T)()(),A=new(function(){function e(){Object(u.a)(this,e),this.auth0=new j.a.WebAuth({domain:w.domain,clientID:w.clientId,redirectUri:w.callbackUrl,responseType:"token id_token",scope:"openid profile"}),this.login=this.login.bind(this),this.logout=this.logout.bind(this),this.handleAuthentication=this.handleAuthentication.bind(this),this.isAuthenticated=this.isAuthenticated.bind(this),this.getAccessToken=this.getAccessToken.bind(this),this.getIdToken=this.getIdToken.bind(this),this.renewSession=this.renewSession.bind(this),this.getProfile=this.getProfile.bind(this)}return Object(h.a)(e,[{key:"login",value:function(){this.auth0.authorize()}},{key:"handleAuthentication",value:function(){var e=this;this.auth0.parseHash(function(t,n){n&&n.accessToken&&n.idToken?e.setSession(n):t&&(S.replace("/home"),console.log(t),alert("Error: ".concat(t.error,". Check the console for further details.")))})}},{key:"getAccessToken",value:function(){return this.accessToken}},{key:"getIdToken",value:function(){return this.idToken}},{key:"setSession",value:function(e){localStorage.setItem("isLoggedIn","true");var t=1e3*e.expiresIn+(new Date).getTime();this.accessToken=e.accessToken,this.idToken=e.idToken,this.expiresAt=t,S.replace("/profile")}},{key:"renewSession",value:function(){var e=this;this.auth0.checkSession({},function(t,n){n&&n.accessToken&&n.idToken?e.setSession(n):t&&(e.logout(),console.log(t),alert("Could not get a new token (".concat(t.error,": ").concat(t.error_description,").")))})}},{key:"getProfile",value:function(e){var t=this;this.auth0.client.userInfo(this.accessToken,function(n,i){i&&(t.userProfile=i),e(n,i)})}},{key:"logout",value:function(){this.accessToken=null,this.idToken=null,this.expiresAt=0,this.userProfile=null,localStorage.removeItem("isLoggedIn"),window.location.href="https://frenzy.auth0.com/v2/logout?returnTo=https%3A%2F%2Fnoelbranz.github.io"}},{key:"isAuthenticated",value:function(){var e=this.expiresAt;return(new Date).getTime()<e}}]),e}()),I=r.a.createElement(s.a,{history:S},r.a.createElement("div",null,r.a.createElement(c.a,{path:"/",render:function(e){return r.a.createElement(g,Object.assign({auth:A},e))}}),r.a.createElement(c.a,{path:"/home",render:function(e){return r.a.createElement(k,Object.assign({auth:A},e))}}),r.a.createElement(c.a,{path:"/profile",render:function(e){return A.isAuthenticated()?r.a.createElement(v,Object.assign({auth:A},e)):r.a.createElement(l.a,{to:"/home"})}}),r.a.createElement(c.a,{path:"/callback",render:function(e){return function(e){var t=e.location;/access_token|id_token|error/.test(t.hash)&&A.handleAuthentication()}(e),r.a.createElement(O,e)}})));a.a.render(I,document.getElementById("root"))}},[[184,1,2]]]);
//# sourceMappingURL=main.608ed5c6.chunk.js.map