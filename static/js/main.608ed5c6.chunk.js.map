{"version":3,"sources":["Callback/loading.svg","App.js","Home/Home.js","Profile/Profile.js","Callback/Callback.js","Auth/auth0-variables.js","history.js","routes.js","Auth/Auth.js","index.js"],"names":["module","exports","__webpack_require__","p","App","route","this","props","history","replace","concat","auth","login","logout","renewSession","localStorage","getItem","isAuthenticated","react_default","a","createElement","es","fluid","Header","Brand","href","src","id","bsStyle","className","onClick","bind","goTo","children","Component","Home","Link","to","style","cursor","Profile","_this","setState","profile","_this$props$auth","userProfile","getProfile","err","state","name","header","picture","alt","glyph","nickname","JSON","stringify","Callback","position","display","justifyContent","height","width","top","bottom","left","right","backgroundColor","loading","AUTH_CONFIG","domain","clientId","callbackUrl","createHistory","Auth","Object","classCallCheck","auth0","WebAuth","clientID","redirectUri","responseType","scope","handleAuthentication","getAccessToken","getIdToken","authorize","parseHash","authResult","accessToken","idToken","setSession","console","log","alert","error","setItem","expiresAt","expiresIn","Date","getTime","_this2","checkSession","error_description","cb","_this3","client","userInfo","removeItem","window","location","routes","Router","Route","path","render","src_App_0","assign","src_Home_Home","src_Profile_Profile","Redirect","_ref","test","hash","src_Callback_Callback","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.608ed5c6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loading.c5590569.svg\";","import React, { Component } from 'react';\nimport { Navbar, Button } from 'react-bootstrap';\nimport './App.css';\n\nclass App extends Component {\n  goTo(route) {\n    this.props.history.replace(`/${route}`)\n  }\n\n  login() {\n    this.props.auth.login();\n  }\n\n  logout() {\n    this.props.auth.logout();\n  }\n\n  componentDidMount() {\n    const { renewSession } = this.props.auth;\n    \n    if (localStorage.getItem('isLoggedIn') === 'true') {\n      renewSession();\n    }else{\n      this.props.auth.login();\n    }\n  }\n\n  render() {\n    const { isAuthenticated } = this.props.auth;\n\n    return (\n      <div>\n        <Navbar fluid>\n          <Navbar.Header>\n            <Navbar.Brand>\n              <a href=\"#\"><img src=\"https://static.wixstatic.com/media/7cd0e6_691910d651614db09e45e478f65fa36c~mv2.png/v1/fill/w_88,h_55,al_c,q_80,usm_0.66_1.00_0.01/Asset%204_2x.webp\" /></a>\n            </Navbar.Brand>\n            {\n              !isAuthenticated() && (\n                  <Button\n                    id=\"qsLoginBtn\"\n                    bsStyle=\"primary\"\n                    className=\"btn-margin\"\n                    onClick={this.login.bind(this)}\n                  >\n                    Log In\n                  </Button>\n                )\n            }\n            {\n              isAuthenticated() && (\n                  <Button\n                    bsStyle=\"primary\"\n                    className=\"btn-margin\"\n                    onClick={this.goTo.bind(this, 'profile')}\n                  >\n                    Profile\n                  </Button>\n                )\n            }\n            {\n              isAuthenticated() && (\n                  <Button\n                    id=\"qsLogoutBtn\"\n                    bsStyle=\"primary\"\n                    className=\"btn-margin\"\n                    onClick={this.logout.bind(this)}\n                  >\n                    Log Out\n                  </Button>\n                )\n            }\n          </Navbar.Header>\n        </Navbar>\n        <div className=\"container\">\n          {this.props.children}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nclass Home extends Component {\n  login() {\n    this.props.auth.login();\n  }\n  render() {\n    const { isAuthenticated } = this.props.auth;\n    return (\n      <div className=\"container\">\n        {\n          isAuthenticated() && (\n              <h4>\n                You are logged in! You can now view your{' '}\n                <Link to=\"profile\">profile area</Link>\n                .\n              </h4>\n            )\n        }\n        {\n          !isAuthenticated() && (\n              <h4>\n                You are not logged in! Please{' '}\n                <a\n                  style={{ cursor: 'pointer' }}\n                  onClick={this.login.bind(this)}\n                >\n                  Log In\n                </a>\n                {' '}to continue.\n              </h4>\n            )\n        }\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React, { Component } from 'react';\nimport { Panel, ControlLabel, Glyphicon } from 'react-bootstrap';\nimport './Profile.css';\n\nclass Profile extends Component {\n  componentWillMount() {\n    this.setState({ profile: {} });\n    const { userProfile, getProfile } = this.props.auth;\n    if (!userProfile) {\n      getProfile((err, profile) => {\n        this.setState({ profile });\n      });\n    } else {\n      this.setState({ profile: userProfile });\n    }\n  }\n  render() {\n    const { profile } = this.state;\n    return (\n      <div className=\"container\">\n        <div className=\"profile-area\">\n          <h1>{profile.name}</h1>\n          <Panel header=\"Profile\">\n            <img src={profile.picture} alt=\"profile\" />\n            <div>\n              <ControlLabel><Glyphicon glyph=\"user\" /> Nickname</ControlLabel>\n              <h3>{profile.nickname}</h3>\n            </div>\n            <pre>{JSON.stringify(profile, null, 2)}</pre>\n          </Panel>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Profile;\n","import React, { Component } from 'react';\nimport loading from './loading.svg';\n\nclass Callback extends Component {\n  render() {\n    const style = {\n      position: 'absolute',\n      display: 'flex',\n      justifyContent: 'center',\n      height: '100vh',\n      width: '100vw',\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0,\n      backgroundColor: 'white',\n    }\n\n    return (\n      <div style={style}>\n        <img src={loading} alt=\"loading\"/>\n      </div>\n    );\n  }\n}\n\nexport default Callback;","export const AUTH_CONFIG = {\n  domain: 'frenzy.auth0.com',\n  clientId: 'igGe9wXd8SohfZpIMenvVFDEaxOf9Sl7',\n  callbackUrl: 'https://noelbranz.github.io/callback'\n}\n","import createHistory from 'history/createBrowserHistory'\n\nexport default createHistory()","import React from 'react';\nimport { Redirect, Route, Router } from 'react-router-dom';\nimport App from './App';\nimport Home from './Home/Home';\nimport Profile from './Profile/Profile';\nimport Callback from './Callback/Callback';\nimport Auth from './Auth/Auth';\nimport history from './history';\n\nconst auth = new Auth();\n\nconst handleAuthentication = ({location}) => {\n  if (/access_token|id_token|error/.test(location.hash)) {\n    auth.handleAuthentication();\n  }\n}\n\nexport const makeMainRoutes = () => {\n  return (\n    <Router history={history}>\n        <div>\n          <Route path=\"/\" render={(props) => <App auth={auth} {...props} />} />\n          <Route path=\"/home\" render={(props) => <Home auth={auth} {...props} />} />\n          <Route path=\"/profile\" render={(props) => (\n            !auth.isAuthenticated() ? (\n              <Redirect to=\"/home\"/>\n            ) : (\n              <Profile auth={auth} {...props} />\n            )\n          )} />\n          <Route path=\"/callback\" render={(props) => {\n            handleAuthentication(props);\n            return <Callback {...props} /> \n          }}/>        \n        </div>\n      </Router>\n  );\n}\n","import auth0 from 'auth0-js';\nimport { AUTH_CONFIG } from './auth0-variables';\nimport history from '../history';\n\nexport default class Auth {\n  accessToken;\n  idToken;\n  expiresAt;\n  userProfile;\n\n  auth0 = new auth0.WebAuth({\n    domain: AUTH_CONFIG.domain,\n    clientID: AUTH_CONFIG.clientId,\n    redirectUri: AUTH_CONFIG.callbackUrl,\n    responseType: 'token id_token',\n    scope: 'openid profile'\n  });\n\n  constructor() {\n    this.login = this.login.bind(this);\n    this.logout = this.logout.bind(this);\n    this.handleAuthentication = this.handleAuthentication.bind(this);\n    this.isAuthenticated = this.isAuthenticated.bind(this);\n    this.getAccessToken = this.getAccessToken.bind(this);\n    this.getIdToken = this.getIdToken.bind(this);\n    this.renewSession = this.renewSession.bind(this);\n    this.getProfile = this.getProfile.bind(this);\n  }\n\n  login() {\n    this.auth0.authorize();\n  }\n\n  handleAuthentication() {\n    this.auth0.parseHash((err, authResult) => {\n      if (authResult && authResult.accessToken && authResult.idToken) {\n        this.setSession(authResult);\n      } else if (err) {\n        history.replace('/home');\n        console.log(err);\n        alert(`Error: ${err.error}. Check the console for further details.`);\n      }\n    });\n  }\n\n  getAccessToken() {\n    return this.accessToken;\n  }\n\n  getIdToken() {\n    return this.idToken;\n  }\n\n  setSession(authResult) {\n    // Set isLoggedIn flag in localStorage\n    localStorage.setItem('isLoggedIn', 'true');\n\n    // Set the time that the access token will expire at\n    let expiresAt = (authResult.expiresIn * 1000) + new Date().getTime();\n    this.accessToken = authResult.accessToken;\n    this.idToken = authResult.idToken;\n    this.expiresAt = expiresAt;\n\n    // navigate to the home route\n    history.replace('/profile');\n  }\n\n  renewSession() {\n    this.auth0.checkSession({}, (err, authResult) => {\n       if (authResult && authResult.accessToken && authResult.idToken) {\n         this.setSession(authResult);\n       } else if (err) {\n         this.logout();\n         console.log(err);\n         alert(`Could not get a new token (${err.error}: ${err.error_description}).`);\n       }\n    });\n  }\n\n  getProfile(cb) {\n    this.auth0.client.userInfo(this.accessToken, (err, profile) => {\n      if (profile) {\n        this.userProfile = profile;\n      }\n      cb(err, profile);\n    });\n  }\n\n  logout() {\n    // Remove tokens and expiry time\n    this.accessToken = null;\n    this.idToken = null;\n    this.expiresAt = 0;\n\n    // Remove user profile\n    this.userProfile = null;\n\n    // Remove isLoggedIn flag from localStorage\n    localStorage.removeItem('isLoggedIn');\n    window.location.href='https://frenzy.auth0.com/v2/logout?returnTo=https%3A%2F%2Fnoelbranz.github.io';\n    // navigate to the home route\n    // history.replace('/home');\n  }\n\n  isAuthenticated() {\n    // Check whether the current time is past the\n    // access token's expiry time\n    let expiresAt = this.expiresAt;\n    return new Date().getTime() < expiresAt;\n  }\n}\n","import ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { makeMainRoutes } from './routes';\n\nconst routes = makeMainRoutes();\n\nReactDOM.render(\n  routes,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}